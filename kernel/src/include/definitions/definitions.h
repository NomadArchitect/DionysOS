//
// Created by dustyn on 8/12/24.
//
#ifndef _DEFINITIONS_H_
#define _DEFINITIONS_H_
#pragma once
#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include <include/memory/pmm.h>

#define BIT(bit) ((uint8_t)(1 << bit))
#define BYTE(num) (num / 8)


//The ID's I'm going to put below are for spinlock contexts in case there are deadlock/contention issues later
#define SERIAL_LOCK 0
#define SMP_BOOSTRAP_LOCK 1
#define sched_LOCK 2
#define VFS_LOCK 3
#define DIOSFS_LOCK 4 // may need to make multiple but this is fine for now
#define PMM_LOCK 5
#define BTREE_LOCK 6 // there are many of these but it's still an insight
#define BUDDY_LOCK 7
#define RAMDISK_LOCK 8
#define ALLOC_LOCK 9
#define DOUBLY_LINKED_LIST_LOCK 10
#define SINGLE_LINKED_LIST_LOCK 11
#define FRAME_LOCK 12


enum kernel_error_codes {
    KERN_SUCCESS = 0, // Operation successful
    KERN_BUSY = -16, // Device or resource busy (EBUSY)
    KERN_NO_MEM = -12, // Out of memory (ENOMEM)
    KERN_INVALID_ARG = -22, // Invalid argument (EINVAL)
    KERN_PERMISSION = -13, // Permission denied (EACCES)
    KERN_NOT_FOUND = -2, // No such file or directory (ENOENT)
    KERN_EXISTS = -17, // File exists (EEXIST)
    KERN_IO_ERROR = -5, // I/O error (EIO)
    KERN_INTERRUPTED = -4, // Interrupted system call (EINTR)
    KERN_NOT_SUPPORTED = -95, // Operation not supported (ENOTSUP)
    KERN_WRONG_TYPE = -19, // Generc Type Provided not Valid
    KERN_MAX_REACHED = - -20 // Max of whatever you are requesting has been reached
};

/*
 * Core function prototypes
 */

int64_t write(uint64_t handle, char *buffer, uint64_t bytes);

int64_t read(uint64_t handle, char *buffer, uint64_t bytes);

int64_t open(char *path);

int64_t close(uint64_t handle);

int64_t mount(uint64_t handle, char *path);

int64_t unmount(uint64_t handle);

void rename(uint64_t handle, char *new_name);

int64_t create(char *path, char *name, uint64_t type);


#define DIONYSOS_ASCII_STRING "                                                                                                                      \n"\
"     _____    ____         _____  _____   ______    _____      _____        ______          _____             ______  \n"\
" ___|\\    \\  |    |   ____|\\    \\|\\    \\ |\\     \\  |\\    \\    /    /|   ___|\\     \\    ____|\\    \\        ___|\\     \\ \n"\
"|    |\\    \\ |    |  /     /\\    \\\\\\    \\| \\     \\ | \\    \\  /    / |  |    |\\     \\  /     /\\    \\      |    |\\     \\\n"\
"|    | |    ||    | /     /  \\    \\\\|    \\  \\     ||  \\____\\/    /  /  |    |/____/| /     /  \\    \\     |    |/____/|\n"\
"|    | |    ||    ||     |    |    ||     \\  |    | \\ |    /    /  /___|    \\|   | ||     |    |    | ___|    \\|   | |\n"\
"|    | |    ||    ||     |    |    ||      \\ |    |  \\|___/    /  /|    \\    \\___|/ |     |    |    ||    \\    \\___|/ \n"\
"|    | |    ||    ||\\     \\  /    /||    |\\ \\|    |      /    /  / |    |\\     \\    |\\     \\  /    /||    |\\     \\    \n"\
"|____|/____/||____|| \\_____\\/____/ ||____||\\_____/|     /____/  /  |\\ ___\\|_____|   | \\_____\\/____/ ||\\ ___\\|_____|   \n"\
"|    /    | ||    | \\ |    ||    | /|    |/ \\|   ||    |`    | /   | |    |     |    \\ |    ||    | /| |    |     |   \n"\
"|____|____|/ |____|  \\|____||____|/ |____|   |___|/    |_____|/     \\|____|_____|     \\|____||____|/  \\|____|_____|   \n"\
"  \\(    )/     \\(       \\(    )/      \\(       )/         )/           \\(    )/          \\(    )/        \\(    )/     \n"\
"   '    '       '        '    '        '       '          '             '    '            '    '          '    '      \n"\
"                                                                                                                  \n"
#define DIONYSOS_ASCII_STRING2 "                                ___           ___                       ___           ___           ___     \n" \
"     _____                     /\\  \\         /\\  \\                     /\\__\\         /\\  \\         /\\__\\    \n" \
"    /::\\  \\       ___         /::\\  \\        \\:\\  \\         ___       /:/ _/_       /::\\  \\       /:/ _/_   \n" \
"   /:/\\:\\  \\     /\\__\\       /:/\\:\\  \\        \\:\\  \\       /|  |     /:/ /\\  \\     /:/\\:\\  \\     /:/ /\\  \\  \n" \
"  /:/  \\:\\__\\   /:/__/      /:/  \\:\\  \\   _____\\:\\  \\     |:|  |    /:/ /::\\  \\   /:/  \\:\\  \\   /:/ /::\\  \\ \n" \
" /:/__/ \\:|__| /::\\  \\     /:/__/ \\:\\__\\ /::::::::\\__\\    |:|  |   /:/_/:/\\:\\__\\ /:/__/ \\:\\__\\ /:/_/:/\\:\\__\\\n" \
" \\:\\  \\ /:/  / \\/\\:\\  \\__  \\:\\  \\ /:/  / \\:\\~~\\~~\\/__/  __|:|__|   \\:\\/:/ /:/  / \\:\\  \\ /:/  / \\:\\/:/ /:/  /\n" \
"  \\:\\  /:/  /   ~~\\:\\/\\__\\  \\:\\  /:/  /   \\:\\  \\       /::::\\  \\    \\::/ /:/  /   \\:\\  /:/  /   \\::/ /:/  / \n" \
"   \\:\\/:/  /       \\::/  /   \\:\\/:/  /     \\:\\  \\      ~~~~\\:\\  \\    \\/_/:/  /     \\:\\/:/  /     \\/_/:/  /  \n" \
"    \\::/  /        /:/  /     \\::/  /       \\:\\__\\          \\:\\__\\     /:/  /       \\::/  /        /:/  /   \n" \
"     \\/__/         \\/__/       \\/__/         \\/__/           \\/__/     \\/__/         \\/__/         \\/__/    \n"

#define DIONYSOS_ASCII_STRING3 "       _             _          _            _           _        _         _            _            _        \n" \
"      /\\ \\          /\\ \\       /\\ \\         /\\ \\     _  /\\ \\     /\\_\\      / /\\         /\\ \\         / /\\      \n" \
"     /  \\ \\____     \\ \\ \\     /  \\ \\       /  \\ \\   /\\_\\\\ \\ \\   / / /     / /  \\       /  \\ \\       / /  \\     \n" \
"    / /\\ \\_____\\    /\\ \\_\\   / /\\ \\ \\     / /\\ \\ \\_/ / / \\ \\ \\_/ / /     / / /\\ \\__   / /\\ \\ \\     / / /\\ \\__  \n" \
"   / / /\\/___  /   / /\\/_/  / / /\\ \\ \\   / / /\\ \\___/ /   \\ \\___/ /     / / /\\ \\___\\ / / /\\ \\ \\   / / /\\ \\___\\ \n" \
"  / / /   / / /   / / /    / / /  \\ \\_\\ / / /  \\/____/     \\ \\ \\_/      \\ \\ \\ \\/___// / /  \\ \\_\\  \\ \\ \\ \\/___/ \n" \
" / / /   / / /   / / /    / / /   / / // / /    / / /       \\ \\ \\        \\ \\ \\     / / /   / / /   \\ \\ \\       \n" \
"/ / /   / / /   / / /    / / /   / / // / /    / / /         \\ \\ \\   _    \\ \\ \\   / / /   / / /_    \\ \\ \\      \n" \
"\\ \\ \\__/ / /___/ / /__  / / /___/ / // / /    / / /           \\ \\ \\ /_/\\__/ / /  / / /___/ / //_\\__/ / /      \n" \
" \\ \\___\\/ //\\__\\/ /___\\/ / /____\\/ // / /    / / /             \\ \\_\\\\ \\/___/ /  / / /____\\/ / \\ \\/___/ /       \n" \
"  \\/_____\\/\\/_________/\\/_________/ \\/_/     \\/_/               \\/_/ \\_____\\/   \\/_________/   \\_____\\/        \n"

#define AUTHOR_ASCII_STRING " __        __    _ _   _               _             ____            _                  ____ _ _     _     \n \\ \\      / / __(_) |_| |_ ___ _ __   | |__  _   _  |  _ \\ _   _ ___| |_ _   _ _ __    / ___(_) |__ | |__  \n  \\ \\ /\\ / / '__| | __| __/ _ \\ '_ \\  | '_ \\| | | | | | | | | | / __| __| | | | '_ \\  | |  _| | '_ \\| '_ \\ \n   \\ V  V /| |  | | |_| ||  __/ | | | | |_) | |_| | | |_| | |_| \\__ \\ |_| |_| | | | | | |_| | | |_) | |_) |\n    \\_/\\_/ |_|  |_|\\__|\\__\\___|_| |_| |_.__/ \\__, | |____/ \\__,_|___/\\__|\\__, |_| |_|  \\____|_|_.__/|_.__/ \n                                             |___/                       |___/                              \n"

#define DIONYSOS_ART \
".    .\n" \
"    .       =O===\n" \
" . _       %- - %%%\n" \
"  (_)     % <    D%%%\n" \
"   |      ' ,  ,$$$\n" \
"  -/-     %%%%  |\n" \
"   |//; ,---' _ |----.\n" \
"    \\ )(           /  )\n" \
"    | \\/ \\.   '  _.|,  \\\n" \
"    |  \\ /(   /    / \\_ \\\n" \
"     \\ /  (        | /  )\n" \
"          (  ,  ___|/ ,`\n" \
"          (   _/ (  |  \\_\n" \
"        _/\\--//     ,\\\\\\\n" \
"  _______ _/\\\\   / |      |_________\n" \
"|_______/   \\\\ / _/   ,   |________|\n" \
"__|___#/     \\  _  '      |##____|___\n" \
"/______/ _    |  / \\   |   /__________\\\n" \
"  |   /           _/\\_/  b'ger\n" \
"  /_     '_,____\\/ )(\n" \
" |/ \\_   /        (  \\\n" \
"  | /-\\_/          Oooo\n" \
"  )(. \n" \
" /  )\n" \
"oooO\n"

#define ICARUS_ART \
"                 )\n" \
"               /  )\n" \
"              /  / )\n" \
"         -   /  / /\n" \
"            '  / / -\n" \
"           / _/ / /\n" \
"     _    / _/_, /          ,\n" \
"   + $$$ / _/_/_/          \\       |\n" \
" /- + $$/ _/_/_/      /\n" \
" \\`_ $$/'_/_/    .    ______   _\n" \
"    \\ (  / ___,_____ _ _____,\n" \
"    |  `(|/_,_,__ ________/\n" \
"    |.   |''_,_______)\n" \
"     \\   (_\n" \
"      \\  / |-._\n" \
"       \\.' /|/ \\_._\n" \
"       /_/   _/    /-'__\n" \
"         \\     \\'       \\.___\n" \
"          '.   /,     |_/_   |._\n" \
"            \\ / )   '.     '_/, )\n" \
"             (_(     -\\_   /  \\ \\\n" \
"                \\__      |-'   |/\n" \
"                  \\._  /_/_\n" \
"                     \\_/\\' )\n" \
"                         \\ |\n" \
"                         |/   b'ger\n" \
"\n" \
"              ~~~~~~~\n" \
"       ~~~~~~~~~   ~~~~\n"
#endif
